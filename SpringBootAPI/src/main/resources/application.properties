spring.application.name=MySpringBoot

# Server
server.port=8080

# Thymeleaf
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.servlet.content-type=text/html

# JPA + H2 Database
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Logging
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG

management.endpoints.web.exposure.include=mappings

# DevTools
spring.devtools.restart.enabled=true
spring.devtools.restart.additional-paths=src/main/resources/static

# Mail (SendGrid) - use environment variables for secrets
# Set the API key in an environment variable named SENDGRID_API_KEY
# and optionally the sender address in SENDGRID_MAIL_FROM.
spring.mail.host=smtp.sendgrid.net
spring.mail.port=587
spring.mail.username=apikey
spring.mail.password=${SENDGRID_API_KEY}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.from=${SENDGRID_MAIL_FROM:your_verified_sender@example.com}

# Enable JavaMail debug to print SMTP protocol details to logs (useful for troubleshooting)
spring.mail.properties.mail.debug=true

# File Upload
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
file.upload-dir=uploads

# Photo cleanup - delete unattached photos older than X hours (default: 24)
photo.cleanup.hours=24

# Notes:
# 1) Do NOT commit API keys to source control. If you already committed a key,
#    rotate it immediately in SendGrid (create a new API key and revoke the old one).
# 2) The `spring.mail.from` address should be a verified sender in SendGrid to
#    avoid delivery issues and spam filtering.